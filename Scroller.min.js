var Scroller;!function(){function t(){}function h(e){return Math.pow(e-1,3)+1}function f(e){return(e/=.5)<1?.5*Math.pow(e,3):.5*(Math.pow(e-2,3)+2)}var e={__isSingleTouch:!(Scroller=function(e,o){for(var _ in this.__callback=e,this.options={scrollingX:!0,scrollingY:!0,animating:!0,animationDuration:250,bouncing:!0,locking:!0,paging:!1,snapping:!1,zooming:!0,minZoom:.5,maxZoom:3,speedMultiplier:1,scrollingComplete:t,penetrationDeceleration:.03,penetrationAcceleration:.08},o)this.options[_]=o[_]}),__isTracking:!1,__didDecelerationComplete:!1,__isGesturing:!1,__isDragging:!1,__isDecelerating:!1,__isAnimating:!1,__clientLeft:0,__clientTop:0,__clientWidth:0,__clientHeight:0,__contentWidth:0,__contentHeight:0,__snapWidth:100,__snapHeight:100,__refreshHeight:null,__refreshActive:!1,__refreshActivate:null,__refreshDeactivate:null,__refreshStart:null,__zoomLevel:1,__scrollLeft:0,__scrollTop:0,__maxScrollLeft:0,__maxScrollTop:0,__scheduledLeft:0,__scheduledTop:0,__scheduledZoom:0,__lastTouchLeft:null,__lastTouchTop:null,__lastTouchMove:null,__positions:null,__minDecelerationScrollLeft:null,__minDecelerationScrollTop:null,__maxDecelerationScrollLeft:null,__maxDecelerationScrollTop:null,__decelerationVelocityX:null,__decelerationVelocityY:null,setDimensions:function(e,o,_,t){var i=this;e===+e&&(i.__clientWidth=e),o===+o&&(i.__clientHeight=o),_===+_&&(i.__contentWidth=_),t===+t&&(i.__contentHeight=t),i.__computeScrollMax(),i.scrollTo(i.__scrollLeft,i.__scrollTop,!0)},setPosition:function(e,o){this.__clientLeft=e||0,this.__clientTop=o||0},setSnapSize:function(e,o){this.__snapWidth=e,this.__snapHeight=o},activatePullToRefresh:function(e,o,_,t){var i=this;i.__refreshHeight=e,i.__refreshActivate=o,i.__refreshDeactivate=_,i.__refreshStart=t},triggerPullToRefresh:function(){this.__publish(this.__scrollLeft,-this.__refreshHeight,this.__zoomLevel,!0),this.__refreshStart&&this.__refreshStart()},finishPullToRefresh:function(){var e=this;e.__refreshActive=!1,e.__refreshDeactivate&&e.__refreshDeactivate(),e.scrollTo(e.__scrollLeft,e.__scrollTop,!0)},getValues:function(){var e=this;return{left:e.__scrollLeft,top:e.__scrollTop,zoom:e.__zoomLevel}},getScrollMax:function(){return{left:this.__maxScrollLeft,top:this.__maxScrollTop}},zoomTo:function(e,o,_,t,i){var l=this;if(!l.options.zooming)throw new Error("Zooming is not enabled!");i&&(l.__zoomComplete=i),l.__isDecelerating&&(core.effect.Animate.stop(l.__isDecelerating),l.__isDecelerating=!1);var n=l.__zoomLevel;null==_&&(_=l.__clientWidth/2),null==t&&(t=l.__clientHeight/2),e=Math.max(Math.min(e,l.options.maxZoom),l.options.minZoom),l.__computeScrollMax(e);var r=(_+l.__scrollLeft)*e/n-_,a=(t+l.__scrollTop)*e/n-t;r>l.__maxScrollLeft?r=l.__maxScrollLeft:r<0&&(r=0),a>l.__maxScrollTop?a=l.__maxScrollTop:a<0&&(a=0),l.__publish(r,a,e,o)},zoomBy:function(e,o,_,t,i){this.zoomTo(this.__zoomLevel*e,o,_,t,i)},scrollTo:function(e,o,_,t){var i=this;if(i.__isDecelerating&&(core.effect.Animate.stop(i.__isDecelerating),i.__isDecelerating=!1),null!=t&&t!==i.__zoomLevel){if(!i.options.zooming)throw new Error("Zooming is not enabled!");e*=t,o*=t,i.__computeScrollMax(t)}else t=i.__zoomLevel;i.options.scrollingX?i.options.paging?e=Math.round(e/i.__clientWidth)*i.__clientWidth:i.options.snapping&&(e=Math.round(e/i.__snapWidth)*i.__snapWidth):e=i.__scrollLeft,i.options.scrollingY?i.options.paging?o=Math.round(o/i.__clientHeight)*i.__clientHeight:i.options.snapping&&(o=Math.round(o/i.__snapHeight)*i.__snapHeight):o=i.__scrollTop,e=Math.max(Math.min(i.__maxScrollLeft,e),0),o=Math.max(Math.min(i.__maxScrollTop,o),0),e===i.__scrollLeft&&o===i.__scrollTop&&(_=!1),i.__isTracking||i.__publish(e,o,t,_)},scrollBy:function(e,o,_){var t=this,i=t.__isAnimating?t.__scheduledLeft:t.__scrollLeft,l=t.__isAnimating?t.__scheduledTop:t.__scrollTop;t.scrollTo(i+(e||0),l+(o||0),_)},doMouseZoom:function(e,o,_,t){var i=0<e?.97:1.03;return this.zoomTo(this.__zoomLevel*i,!1,_-this.__clientLeft,t-this.__clientTop)},doTouchStart:function(e,o){if(null==e.length)throw new Error("Invalid touch list: "+e);if(o instanceof Date&&(o=o.valueOf()),"number"!=typeof o)throw new Error("Invalid timestamp value: "+o);var _,t,i=this;i.__interruptedAnimation=!0,i.__isDecelerating&&(core.effect.Animate.stop(i.__isDecelerating),i.__isDecelerating=!1,i.__interruptedAnimation=!0),i.__isAnimating&&(core.effect.Animate.stop(i.__isAnimating),i.__isAnimating=!1,i.__interruptedAnimation=!0);var l=1===e.length;t=l?(_=e[0].pageX,e[0].pageY):(_=Math.abs(e[0].pageX+e[1].pageX)/2,Math.abs(e[0].pageY+e[1].pageY)/2),i.__initialTouchLeft=_,i.__initialTouchTop=t,i.__zoomLevelStart=i.__zoomLevel,i.__lastTouchLeft=_,i.__lastTouchTop=t,i.__lastTouchMove=o,i.__lastScale=1,i.__enableScrollX=!l&&i.options.scrollingX,i.__enableScrollY=!l&&i.options.scrollingY,i.__isTracking=!0,i.__didDecelerationComplete=!1,i.__isDragging=!l,i.__isSingleTouch=l,i.__positions=[]},doTouchMove:function(e,o,_){if(null==e.length)throw new Error("Invalid touch list: "+e);if(o instanceof Date&&(o=o.valueOf()),"number"!=typeof o)throw new Error("Invalid timestamp value: "+o);var t=this;if(t.__isTracking){var i,l;l=2===e.length?(i=Math.abs(e[0].pageX+e[1].pageX)/2,Math.abs(e[0].pageY+e[1].pageY)/2):(i=e[0].pageX,e[0].pageY);var n=t.__positions;if(t.__isDragging){var r=i-t.__lastTouchLeft,a=l-t.__lastTouchTop,c=t.__scrollLeft,s=t.__scrollTop,p=t.__zoomLevel;if(null!=_&&t.options.zooming){var h=p;if(p=p/t.__lastScale*_,h!==(p=Math.max(Math.min(p,t.options.maxZoom),t.options.minZoom))){var f=i-t.__clientLeft,m=l-t.__clientTop;c=(f+c)*p/h-f,s=(m+s)*p/h-m,t.__computeScrollMax(p)}}if(t.__enableScrollX){c-=r*this.options.speedMultiplier;var g=t.__maxScrollLeft;(g<c||c<0)&&(t.options.bouncing?c+=r/2*this.options.speedMultiplier:c=g<c?g:0)}if(t.__enableScrollY){s-=a*this.options.speedMultiplier;var u=t.__maxScrollTop;(u<s||s<0)&&(t.options.bouncing?(s+=a/2*this.options.speedMultiplier,t.__enableScrollX||null==t.__refreshHeight||(!t.__refreshActive&&s<=-t.__refreshHeight?(t.__refreshActive=!0,t.__refreshActivate&&t.__refreshActivate()):t.__refreshActive&&s>-t.__refreshHeight&&(t.__refreshActive=!1,t.__refreshDeactivate&&t.__refreshDeactivate()))):s=u<s?u:0)}60<n.length&&n.splice(0,30),n.push(c,s,o),t.__publish(c,s,p)}else{var v=t.options.locking?3:0,T=Math.abs(i-t.__initialTouchLeft),d=Math.abs(l-t.__initialTouchTop);t.__enableScrollX=t.options.scrollingX&&v<=T,t.__enableScrollY=t.options.scrollingY&&v<=d,n.push(t.__scrollLeft,t.__scrollTop,o),t.__isDragging=(t.__enableScrollX||t.__enableScrollY)&&(5<=T||5<=d),t.__isDragging&&(t.__interruptedAnimation=!1)}t.__lastTouchLeft=i,t.__lastTouchTop=l,t.__lastTouchMove=o,t.__lastScale=_}},doTouchEnd:function(e){if(e instanceof Date&&(e=e.valueOf()),"number"!=typeof e)throw new Error("Invalid timestamp value: "+e);var o=this;if(o.__isTracking){if(o.__isTracking=!1,o.__isDragging)if(o.__isDragging=!1,o.__isSingleTouch&&o.options.animating&&e-o.__lastTouchMove<=100){for(var _=o.__positions,t=_.length-1,i=t,l=t;0<l&&_[l]>o.__lastTouchMove-100;l-=3)i=l;if(i!==t){var n=_[t]-_[i],r=o.__scrollLeft-_[i-2],a=o.__scrollTop-_[i-1];o.__decelerationVelocityX=r/n*(1e3/60),o.__decelerationVelocityY=a/n*(1e3/60);var c=o.options.paging||o.options.snapping?4:1;Math.abs(o.__decelerationVelocityX)>c||Math.abs(o.__decelerationVelocityY)>c?o.__refreshActive||o.__startDeceleration(e):o.options.scrollingComplete()}else o.options.scrollingComplete()}else 100<e-o.__lastTouchMove&&o.options.scrollingComplete();o.__isDecelerating||(o.__refreshActive&&o.__refreshStart?(o.__publish(o.__scrollLeft,-o.__refreshHeight,o.__zoomLevel,!0),o.__refreshStart&&o.__refreshStart()):((o.__interruptedAnimation||o.__isDragging)&&o.options.scrollingComplete(),o.scrollTo(o.__scrollLeft,o.__scrollTop,!0,o.__zoomLevel),o.__refreshActive&&(o.__refreshActive=!1,o.__refreshDeactivate&&o.__refreshDeactivate()))),o.__positions.length=0}},__publish:function(e,o,_,t){var i=this,l=i.__isAnimating;if(l&&(core.effect.Animate.stop(l),i.__isAnimating=!1),t&&i.options.animating){i.__scheduledLeft=e,i.__scheduledTop=o,i.__scheduledZoom=_;var n=i.__scrollLeft,r=i.__scrollTop,a=i.__zoomLevel,c=e-n,s=o-r,p=_-a;i.__isAnimating=core.effect.Animate.start(function(e,o,_){_&&(i.__scrollLeft=n+c*e,i.__scrollTop=r+s*e,i.__zoomLevel=a+p*e,i.__callback&&i.__callback(i.__scrollLeft,i.__scrollTop,i.__zoomLevel))},function(e){return i.__isAnimating===e},function(e,o,_){o===i.__isAnimating&&(i.__isAnimating=!1),(i.__didDecelerationComplete||_)&&i.options.scrollingComplete(),i.options.zooming&&(i.__computeScrollMax(),i.__zoomComplete&&(i.__zoomComplete(),i.__zoomComplete=null))},i.options.animationDuration,l?h:f)}else i.__scheduledLeft=i.__scrollLeft=e,i.__scheduledTop=i.__scrollTop=o,i.__scheduledZoom=i.__zoomLevel=_,i.__callback&&i.__callback(e,o,_),i.options.zooming&&(i.__computeScrollMax(),i.__zoomComplete&&(i.__zoomComplete(),i.__zoomComplete=null))},__computeScrollMax:function(e){var o=this;null==e&&(e=o.__zoomLevel),o.__maxScrollLeft=Math.max(o.__contentWidth*e-o.__clientWidth,0),o.__maxScrollTop=Math.max(o.__contentHeight*e-o.__clientHeight,0)},__startDeceleration:function(e){var t=this;if(t.options.paging){var o=Math.max(Math.min(t.__scrollLeft,t.__maxScrollLeft),0),_=Math.max(Math.min(t.__scrollTop,t.__maxScrollTop),0),i=t.__clientWidth,l=t.__clientHeight;t.__minDecelerationScrollLeft=Math.floor(o/i)*i,t.__minDecelerationScrollTop=Math.floor(_/l)*l,t.__maxDecelerationScrollLeft=Math.ceil(o/i)*i,t.__maxDecelerationScrollTop=Math.ceil(_/l)*l}else t.__minDecelerationScrollLeft=0,t.__minDecelerationScrollTop=0,t.__maxDecelerationScrollLeft=t.__maxScrollLeft,t.__maxDecelerationScrollTop=t.__maxScrollTop;var n=t.options.snapping?4:.001;t.__isDecelerating=core.effect.Animate.start(function(e,o,_){t.__stepThroughDeceleration(_)},function(){var e=Math.abs(t.__decelerationVelocityX)>=n||Math.abs(t.__decelerationVelocityY)>=n;return e||(t.__didDecelerationComplete=!0),e},function(e,o,_){t.__isDecelerating=!1,t.__didDecelerationComplete&&t.options.scrollingComplete(),t.scrollTo(t.__scrollLeft,t.__scrollTop,t.options.snapping)})},__stepThroughDeceleration:function(e){var o=this,_=o.__scrollLeft+o.__decelerationVelocityX,t=o.__scrollTop+o.__decelerationVelocityY;if(!o.options.bouncing){var i=Math.max(Math.min(o.__maxDecelerationScrollLeft,_),o.__minDecelerationScrollLeft);i!==_&&(_=i,o.__decelerationVelocityX=0);var l=Math.max(Math.min(o.__maxDecelerationScrollTop,t),o.__minDecelerationScrollTop);l!==t&&(t=l,o.__decelerationVelocityY=0)}if(e?o.__publish(_,t,o.__zoomLevel):(o.__scrollLeft=_,o.__scrollTop=t),!o.options.paging){o.__decelerationVelocityX*=.95,o.__decelerationVelocityY*=.95}if(o.options.bouncing){var n=0,r=0,a=o.options.penetrationDeceleration,c=o.options.penetrationAcceleration;_<o.__minDecelerationScrollLeft?n=o.__minDecelerationScrollLeft-_:_>o.__maxDecelerationScrollLeft&&(n=o.__maxDecelerationScrollLeft-_),t<o.__minDecelerationScrollTop?r=o.__minDecelerationScrollTop-t:t>o.__maxDecelerationScrollTop&&(r=o.__maxDecelerationScrollTop-t),0!==n&&(n*o.__decelerationVelocityX<=0?o.__decelerationVelocityX+=n*a:o.__decelerationVelocityX=n*c),0!==r&&(r*o.__decelerationVelocityY<=0?o.__decelerationVelocityY+=r*a:o.__decelerationVelocityY=r*c)}}};for(var o in e)Scroller.prototype[o]=e[o]}();